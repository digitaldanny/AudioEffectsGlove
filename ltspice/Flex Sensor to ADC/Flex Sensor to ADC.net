* C:\Users\Daniel\Desktop\SW_Projects\GestureControl\ltspice\Flex Sensor to ADC\Flex Sensor to ADC.asc
R_flex N005 V_33 R=V(Vresistance)
V1 V_33 0 3.3
Rdiv MuxOut 0 18k
R_offset MuxOut N005 10
Vs Vresistance 0 EXP(12k 250 0 5m 1 1)
Rin1 Vbias N003 1k
XU1 N004 N003 V_33 0 V_boosted level.2 Avol=1Meg GBW=10Meg Slew=10Meg ilimit=25m rail=0 Vos=0 phimargin=45 en=0 enk=0 in=0 ink=0 Rin=500Meg
Rg1 V_boosted N003 1.4k
Rg2 N004 0 1.4k
Rin2 N004 MuxOut 1k
R2 0 N001 1.5k
R1 N001 V_33 8.2k
XU2 N001 Vbias V_33 0 Vbias level.2 Avol=1Meg GBW=10Meg Slew=10Meg ilimit=25m rail=0 Vos=0 phimargin=45 en=0 enk=0 in=0 ink=0 Rin=500Meg
XU3 0 N002 V_33 V_33N V_linear level.2 Avol=1Meg GBW=10Meg Slew=10Meg ilimit=25m rail=0 Vos=0 phimargin=45 en=0 enk=0 in=0 ink=0 Rin=500Meg
Q1 N002 0 V_boosted 0 PNP
R3 V_linear N002 10k
V2 0 V_33N 3.3
.model NPN NPN
.model PNP PNP
.lib C:\Users\Daniel\Documents\LTspiceXVII\lib\cmp\standard.bjt
* Flex sensor voltage divider mux output
.tran 100m
* Voltage reference to subtract in differential amp
* Differential amp to boost voltage range of interest
.lib UniversalOpamps2.sub
.backanno
.end
